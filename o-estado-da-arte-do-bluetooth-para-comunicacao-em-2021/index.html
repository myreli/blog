<!DOCTYPE html><html lang="en"><head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale = 1.0, maximum-scale=1.0">
    <meta name="author" content="Myreli <myreli@proton.me>">

    <title> | noted.myreli.dev</title>

    <link rel="stylesheet" href="https://unpkg.com/prismjs@1.28.0/themes/prism.min.css">
    <link rel="stylesheet" href="https://unpkg.com/@picocss/pico@latest/css/pico.classless.min.css">
    <style>
        :root {
            --spacing: .75rem;
        }

        html,
        body {
            overflow-x: hidden;
        }

        button {
            --background-color: transparent;
            --color: var(--primary);
        }
    </style>
</head>

<body>
    <header>
        <nav>
            <ul>
                <li>
                  <a href="/">
                    <code>noted.myreli.dev</code>
                  </a>
                </li>
            </ul>
            <ul><li><a href="/about/">Sobre</a></li>
<li><a href="/">Posts</a></li>
<li><a href="/tags/">Tags</a></li></ul>
        </nav>
        <hgroup>
            <h1 id=""></h1>
            <h2 id=""></h2>
        </hgroup>
        <hr>
    </header>
    <main>
        
<h1 id="o-estado-da-arte-do-bluetooth-para-comunicacao-em-2021">üåø O estado-da-arte do Bluetooth para comunica√ß√£o em 2021</h1>

<p></p><p>Fiquei indignada com Headsets, Bluetooth e √°udio horr√≠vel nas liga√ß√µes.</p>

<p>Tecnologia sem fio est√° mais em pauta do que nunca com a migra√ß√£o para trabalho remoto e populariza√ß√£o dos Earbuds TWS (leia-se airpods e similares). No entanto, a tecnologia n√£o avan√ßou o suficiente na qualidade de √°udio em geral mas, principalmente, na qualidade de comunica√ß√£o. </p>

<p>Parafraseando um cliente que avaliou um fone bluetooth de uma marca famosa na Amazon: </p>

<blockquote>
<p>Em vez de <strong><em>"plug and play"</em></strong> recebemos <strong><em>"buy and pray"</em></strong>. </p>
</blockquote>

<h2 id="tldr">TL;DR</h2>

<p>Esse √© um resumo em t√≥picos, pule-o se n√£o quiser spoilers e preferir ler minhas divaga√ß√µes por completo. </p>

<ul>
<li>Fiquei indignada com Headsets, Bluetooth e √°udio horr√≠vel nas liga√ß√µes</li>
<li>O problema n√£o √© seu fone/computador/sistema operacional</li>
<li>N√£o existe nenhum headset bluetooth puro sem essa limita√ß√£o atualmente</li>
<li>A solu√ß√£o pode estar a caminho com os novos dispositivos BT 5.2 com suporte ao codec LC3</li>
<li>Headsets com software e hardware propriet√°rio s√£o uma op√ß√£o, como Jabra</li>
<li>Headsets que utilizam a tecnologia wireless 2.4ghz com receptor pr√≥prio s√£o outra op√ß√£o, como Corsair ou Razer</li>
<li>Descobri que gosto de testar headsets</li>
</ul>

<h2 id="por-que-o-som-dos-headsets-sem-fio-bluetooth-e-tao-horrivel-durante-ligacoes">Por que o som dos headsets sem fio bluetooth √© t√£o horr√≠vel durante liga√ß√µes?</h2>

<p>Al√©m de dias sombrios, a pandemia trouxe outro problema: com o despreparo das empresas para o trabalho remoto e a comunica√ß√£o ass√≠ncrona, come√ßaram a surgir infinitas reuni√µes que resultam em horas e horas utilizando fones de ouvido e causando uma dor de cabe√ßa imensa diariamente. </p>

<p>Isso me fez decidir deixar de lado meu <a href="https://www.logitechg.com/pt-br/products/gaming-audio/g230-stereo-gaming-headset.981-000552.html" rel="noopener nofollow" target="_blank">velho amigo com fio</a> e buscar alternativas que me dessem mais mobilidade e fossem mais leves para aguentar um dia inteiro de trabalho. </p>

<p>Com tantas pessoas na rua utilizando fones sem fio como acessorios tive a ilus√£o de que seria super simples. </p>

<p>N√£o foi. </p>

<p>Ent√£o vou tornar p√∫blica uma obsess√£o recente minha: por que, em 2021, ainda n√£o √© poss√≠vel fazer uma chamada de v√≠deo com um fone sem fio sem parecer o √°udio de um r√°dio dos anos 90?</p>

<h2 id="jornada">Jornada</h2>

<p>Essa publica√ß√£o √© uma forma de auto-ajuda =D. Comecei a ficar t√£o obcecada e impressionada com o assunto que, quando percebi, estava compilando uma <a href="https://github.com/pali/hsphfpd-prototype" rel="noopener nofollow" target="_blank">implementa√ß√£o customizada</a> de Bluetooth para configurar meu ambiente de desenvolvimento. Assim come√ßou essa nota e por isso vou registrar aqui tudo que aprendi ap√≥s descobrir que fones bluetooth s√£o terr√≠veis para chamadas. </p>

<p>No fim, desisti de resolver o problema definitivamente e decidi aguardar os pr√≥ximos cap√≠tulos, mas descobri um novo <em>hobby</em>: avaliar a qualidade de <em>headsets</em>. Combina exatamente duas coisas que gosto muito - m√∫sica (a parte te√≥rica e f√≠sica) e tecnologia. Quem sabe come√ßo a escrever review de uns dispositivos por a√≠. </p>

<p>Comecei buscando, furiosamente, a origem do problema. Inicialmente achei que poderia ser algo espec√≠fico com hardware, sistema operacional, vers√£o do Bluetooth, etc. Tudo isso √© relevante, mas nenhum deles era o problema real.</p>

<h2 id="problema">Problema</h2>

<p>Tecnicamente, qual √© o problema?</p>

<p>Quando conectei meus fones e comecei a testar notei que o √°udio e os controles funcionavam perfeitamente ouvindo m√∫sica mas, quando eu mudava para uma liga√ß√£o, o √°udio ficava horr√≠vel e o microfone tamb√©m. Geralmente os controles tamb√©m pioravam - funcionavam de forma limitada ou n√£o respondiam. </p>

<p>Se voc√™ jogar imediatamente esse problema no Google bastante gente menciona que o problema √© no Ubuntu/Linux (spoiler: n√£o √©). </p>

<p>Quando estamos ouvindo m√∫sica (ou seja, audio sendo transmitido de forma unidirecional) o perfil Bluetooth utilizado √© o A2DP, com qualidade quase HD. J√° quando estamos em uma chamada (ou seja, audio sendo recebido e enviado, transmitido de forma bidirecional) o perfil Bluetooth utilizado √© o HSP/HFP, com qualidade quase rid√≠cula =D. </p>

<p>Esse √© um <a href="https://lists.freedesktop.org/archives/pulseaudio-discuss/2011-September/011296.html" rel="noopener nofollow" target="_blank">problema antigo</a> e uma implementa√ß√£o mais antiga ainda, de quando a qualidade de √°udio por telefones j√° era uma coisa m√°gica, bem distante da realidade atual. Em s√≠ntese algumas limita√ß√µes s√£o respons√°veis por esse problema: </p>

<ul>
<li>S√≥ √© poss√≠vel utilizar um perfil de bluetooth ao mesmo tempo. Ent√£o precisamos escolher entre A2PD (√°udio √≥timo mas o microfone n√£o funciona) ou HSP (√°udio horr√≠vel, mas microfone funciona) </li>
<li>Apesar do Bluetooth ter quase <a href="https://www.explainthatstuff.com/howbluetoothworks.html" rel="noopener nofollow" target="_blank">80 canais de transmiss√£o</a>, apenas dois s√£o dedicados para transmiss√£o de √°udio. Isso significa que dois s√£o utilizados inteiramente para a transmiss√£o de √°udio de m√∫sica, mas que eles s√£o divididos entre microfone e fone quando estamos em uma chamada</li>
<li>Utilizando os codecs padr√£o, enquanto o A2DP transmite 48 kHz, o HSP transmite 8~16kHz (isso significa que o √°udio √©, literalmente, tr√™s vezes pior)</li>
</ul>

<p><strong>Afinal, existe uma solu√ß√£o para esse problema?</strong> Sinceramente, mais ou menos. Vou explorar melhor no pr√≥ximo t√≥pico, mas a verdade √© que n√£o existe ainda uma solu√ß√£o definitiva, ainda que parece que ela est√° a caminho.</p>

<h2 id="solucao">Solu√ß√£o</h2>

<p>A triste verdade √© que ainda n√£o existe uma solu√ß√£o definitiva para o problema, mas algumas alternativas s√£o poss√≠veis e parece que a corre√ß√£o est√° a caminho. </p>

<h3 id="1-semi-gambiarra-faststream-codec-e-software-proprietario">#1 Semi Gambiarra: FastStream Codec e software propriet√°rio</h3>

<p><picture><source type="image/avif" srcset="/assets/f6730132df8eba09ebb81aff33e5ae11-_Ezc1ryc6U-150w.avif 150w, /assets/f6730132df8eba09ebb81aff33e5ae11-_Ezc1ryc6U-300w.avif 300w, /assets/f6730132df8eba09ebb81aff33e5ae11-_Ezc1ryc6U-450w.avif 450w" sizes="100vw"><source type="image/webp" srcset="/assets/f6730132df8eba09ebb81aff33e5ae11-_Ezc1ryc6U-150w.webp 150w, /assets/f6730132df8eba09ebb81aff33e5ae11-_Ezc1ryc6U-300w.webp 300w, /assets/f6730132df8eba09ebb81aff33e5ae11-_Ezc1ryc6U-450w.webp 450w" sizes="100vw"><source type="image/jpeg" srcset="/assets/f6730132df8eba09ebb81aff33e5ae11-_Ezc1ryc6U-150w.jpeg 150w, /assets/f6730132df8eba09ebb81aff33e5ae11-_Ezc1ryc6U-300w.jpeg 300w, /assets/f6730132df8eba09ebb81aff33e5ae11-_Ezc1ryc6U-450w.jpeg 450w" sizes="100vw"><img src="/assets/f6730132df8eba09ebb81aff33e5ae11-_Ezc1ryc6U-300w.jpeg" width="450" height="254" loading="lazy" decoding="async"></picture></p>

<p>O objetivo do <em>codec FastStream</em> √© habilitar comunica√ß√£o bi-direcional utilizando o perfil A2P2 (ou seja, justamente resolver o problema) e parece que ele sucede relativamente bem nisso. </p>

<p>No entanto a solu√ß√£o √© trabalhosa e cara: √© necess√°rio encontrar headsets espec√≠ficos que suportem FastStream e adquirir um adaptador de bluetooth separado para o computador/notebook. </p>

<p>No Brasil existem pouqu√≠ssimos ou nenhum √† venda, por isso n√£o testei, mas gostaria; a implementa√ß√£o √© bem curiosa e interessante. </p>

<p>Al√©m disso existe a op√ß√£o de software propriet√°rio. Solu√ß√µes oferecidas pela Jabra, por exemplo, trazem uma implementa√ß√£o pr√≥pria e panteteada que promete resolver o problema. Fiquei muito inclinada e com muita vontade de experimentar o <a href="https://www.jabra.br.com/business/office-headsets/jabra-evolve/jabra-evolve2-65" rel="noopener nofollow" target="_blank">Jabra Evolve 2 65</a>, mas <a href="https://ko-fi.com/myreli" rel="noopener nofollow" target="_blank">o or√ßamento n√£o permite</a> e n√£o existe revenda autorizada para pessoas f√≠sicas no Brasil. </p>

<h3 id="2-super-gambiarra-microfone-separado">#2 Super Gambiarra: Microfone separado</h3>

<p>Essa √© uma semi solu√ß√£o, mas foi a que acabei  utilizando ap√≥s pesar o custo-benef√≠cio. A ideia √© adquirir um microfone USB de mesa e a√≠ utilizar um fone sem fio apenas para o √°udio (como os <em><a href="https://open.spotify.com/episode/6q43UhifGTC4KgGKl5wbbP" rel="noopener nofollow" target="_blank">podcasters</a></em> fazem). </p>

<p>Isso garantiu mobilidade m√≠nima para ir beber √°gua ou esticar as pernas sem perder o que est√° acontecendo, mas gera uma situa√ß√£o engra√ßada de largar a cafeteira e sair correndo para responder quando algu√©m chama. Al√©m disso, a qualidade desses microfones n√£o √© perfeita para quem divide o escrit√≥rio: mesmo os do tipo cardioide captam <em>bastante</em> som externo ent√£o precisa ficar esperto no <code class="prettyprint">push-to-talk</code> ou ent√£o deixar as pessoas do outro lado sofrendo com qualquer vibra√ß√£o na mesa e falas de companheiros de casa.</p>

<p>Fora do Brasil tamb√©m existem op√ß√µes desse <a href="https://antlionaudio.com/products/modmic-wireless" rel="noopener nofollow" target="_blank">microfone apartado sem fio</a>, que tamb√©m resolveria o problema e sem atrapalhar a mobilidade. A tecnologia do microfone √© excelente, os testes de qualidade de √°udio dele s√£o surpreendentes, esse seria um teste interessante e existem <em>reviews</em> bem promissoras, mas <a href="https://www.youtube.com/watch?v=F8Rze1juulc" rel="noopener nofollow" target="_blank">n√£o tem no Brasil</a>.</p>

<h3 id="3-esperanca-bluetooth-52">#3 Esperan√ßa: Bluetooth 5.2</h3>

<p>A especifica√ß√£o da mais recente vers√£o do Bluetooth (5.2) foi <a href="https://www.bluetooth.com/learn-about-bluetooth/recent-enhancements/le-audio/" rel="noopener nofollow" target="_blank">lan√ßada recentemente</a> e tr√°s umas novidades <em>muito</em> atrativas e que mudam bastante em rela√ß√£o as vers√µes anteriores. </p>

<p>Vale a pena ler o material completo, mas o que interessa para esse cen√°rio √©: <strong>MultiStream e o novo codec LC3</strong>. </p>

<p>Na teoria essas mudan√ßas v√£o possibilitar que o a recep√ß√£o e transmiss√£o de √°udio sejam feitas ao mesmo tempo em alta defini√ß√£o, mantendo os benef√≠cios de baixo consumo de energia e com alcance e qualidade ainda maiores e mais est√°veis.</p>

<h2 id="mas-bluetooth-e-a-unica-opcao-sem-fio">Mas bluetooth √© a √∫nica op√ß√£o sem fio?</h2>

<p>N√£o! </p>

<p>Existem op√ß√µes de <em>headsets</em> sem fio que utilizam a tecnologia sem fio 2.4ghz e n√£o sofre com os problemas do Bluetooth. Obviamente que nada √© um mar de rosa e ela sofre com v√°rios outros problemas, um deles, sendo o pre√ßo bem mais <strong>caro</strong> e a mobilidade menor j√° que na maioria das vezes o <strong>alcance √© menor</strong> (30m do Bluetooth contra a m√©dia de 12m dos Wireless). </p>

<p>Essa tecnologia √© geralmente encontrada em Headsets Gamer, que podem ser uma op√ß√£o para quem est√° buscando conforto, bom √°udio e bom microfone. Atualmente estou de olho em dois:</p>

<ul>
<li><a href="https://www.soundguys.com/corsair-virtuoso-wireless-se-review-38016/" rel="noopener nofollow" target="_blank">Corsair Virtuoso Wireless SE</a></li>
<li><a href="https://www.soundguys.com/razer-blackshark-v2-pro-review-39782/" rel="noopener nofollow" target="_blank">Razer BlackShark V2 (Pro)</a></li>
</ul>

<p>Vale ressaltar que se voc√™ curte muito ouvir m√∫sica em alta defini√ß√£o nenhuma tecnologia sem fio ainda chega na mesma defini√ß√£o que fones com fio. A maioria das pessoas n√£o vai notar a diferen√ßa, mas algumas pessoas sim. </p>

<h2 id="referencias">Refer√™ncias</h2>

<ul>
<li><a href="https://www.bluetooth.com/learn-about-bluetooth/recent-enhancements/le-audio/" rel="noopener nofollow" target="_blank">The next generation of Bluetooth¬Æ audio</a> </li>
<li><a href="https://habr.com/en/post/456182/" rel="noopener nofollow" target="_blank">Audio over Bluetooth: most detailed information about profiles, codecs, and devices</a></li>
<li><a href="https://gitlab.freedesktop.org/pulseaudio/pulseaudio/-/merge_requests/288" rel="noopener nofollow" target="_blank">WIP: Bluetooth HSP and HFP profiles implementation via hsphpfd daemon</a></li>
<li><a href="https://hookeaudio.com/blog/hooke-verse/made-worlds-first-bluetooth-microphone/" rel="noopener nofollow" target="_blank">How We Made The World's First Bluetooth Microphone - Hooke Audio</a></li>
<li>Outras pessoas perguntando coisas parecidas como <a href="https://www.reddit.com/r/headphones/comments/1odj2r/questions_about_bluetooth_audio/" rel="noopener nofollow" target="_blank">aqui</a></li>
<li><a href="https://lists.freedesktop.org/archives/pulseaudio-discuss/2019-June/031175.html" rel="noopener nofollow" target="_blank">[pulseaudio-discuss] [PATCH v11 07/11] bluetooth: Add A2DP FastStream codec support</a></li>
</ul>

<hr>

<blockquote>
<p>üåø <strong>Budding</strong> s√£o anota√ß√µes e ideias que j√° revisei e editei minimamente. Est√£o come√ßando a tomar forma, mas ainda precisam de refinamento. <a href="https://listed.to/@Myreli/the-garden">O que √© isso?</a></p>
</blockquote>
<p></p>


        
            <span id="discussion-section">
                <button onclick="loadDiscussionSection()">ver coment√°rios</button>
            </span>
        
    </main>

    <footer>
        <article>
            <p>Quer receber atualiza√ß√µes trimestrais por e-mail? Sem spam.</p>
            <form action="https://buttondown.email/api/emails/embed-subscribe/myreli" method="post" target="popupwindow" onsubmit="window.open('https://buttondown.email/myreli', 'popupwindow')">
                <input type="email" name="email" placeholder="Digite seu e-mail" required="">
                <button type="submit">Receber atualiza√ß√µes</button>
            </form>
        </article>

        <p>
            Copyright ¬© <a href="https://myreli.dev">Myreli</a> 2023
        </p>
    </footer>
    <script>
        var HYVOR_TALK_WEBSITE = 545;
        var HYVOR_TALK_CONFIG  = {
            id: "false"
        }

        function loadDiscussionSection() {
          const discussions = document.getElementById('discussion-section')
          if (!discussions) return;

          discussions.children[0].setAttribute("aria-busy", true)

          const widget = document.createElement("div")
          widget.id = "hyvor-talk-view"

          const script = document.createElement("script")
          script.type = "text/javascript"
          script.src = "https://talk.hyvor.com/web-api/embed.js"

          discussions.replaceChildren(widget)
          document.body.appendChild(script)
        }
    </script>



</body></html>